//@ui5-bundle de/fernunihagen/smartgrids/socopt/Component-preload.js
sap.ui.require.preload({
	"de/fernunihagen/smartgrids/socopt/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","./model/models"],function(t,e,s){"use strict";return t.extend("de.fernunihagen.smartgrids.socopt.Component",{metadata:{manifest:"json"},init:function(){t.prototype.init.call(this);this.setModel(s.createDeviceModel(),"device");this.getRouter().initialize()},getContentDensityClass:function(){if(this.contentDensityClass===undefined){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this.contentDensityClass=""}else if(!e.support.touch){this.contentDensityClass="sapUiSizeCompact"}else{this.contentDensityClass="sapUiSizeCozy"}}return this.contentDensityClass}})});
},
	"de/fernunihagen/smartgrids/socopt/controller/App.controller.js":function(){
sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("de.fernunihagen.smartgrids.socopt.controller.App",{onInit:function(){this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass())}})});
},
	"de/fernunihagen/smartgrids/socopt/controller/BaseController.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/ui/core/routing/History"],function(e,t,n){"use strict";return e.extend("de.fernunihagen.smartgrids.socopt.controller.BaseController",{getOwnerComponent:function(){return e.prototype.getOwnerComponent.call(this)},getRouter:function(){return t.getRouterFor(this)},getResourceBundle:function(){const e=this.getOwnerComponent().getModel("i18n");return e.getResourceBundle()},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){this.getView().setModel(e,t);return this},navTo:function(e,t,n){this.getRouter().navTo(e,t,undefined,n)},onNavBack:function(){const e=n.getInstance().getPreviousHash();if(e!==undefined){window.history.go(-1)}else{this.getRouter().navTo("main",{},undefined,true)}}})});
},
	"de/fernunihagen/smartgrids/socopt/controller/Main.controller.js":function(){
sap.ui.define(["./BaseController","sap/m/MessageBox","sap/ui/model/json/JSONModel","de/fernunihagen/smartgrids/socopt/lib/Service"],function(e,t,n,o){"use strict";return e.extend("de.fernunihagen.smartgrids.socopt.controller.Main",{onInit:function(){const e=new n({entities:[],solarInfo:undefined,recordings:[],newRecording:{entityId:undefined,name:undefined,begin:undefined,end:undefined,intervalLength:5},recListMode:"None"});const t=this.getView();t.setModel(e,"viewData");this.loadSolarInfo();this.loadEntities();this.loadRecordings();this.getRouter().attachRoutePatternMatched(this.navRouteMatched,this)},navRouteMatched:function(e){const t=this.getView();const n=t.byId("icontabbar");const o=e.getParameters().name;switch(o){case"default":case"recordings":n.setSelectedKey("recordings");console.log(`showing recordings`);break;case"solarInfo":n.setSelectedKey("solarInfo");console.log(`showing solar information`);break}},loadEntities:async function(){const e=await o.getEntities();const t=this.getModel("viewData");t.setProperty("/entities",e)},loadRecordings:async function(){const e=await o.getRecordings();const t=this.getModel("viewData");t.setProperty("/recordings",e)},deleteRecording:async function(e){try{await o.deleteRecording(e);this.loadRecordings()}catch(e){t.error(e.message)}},loadSolarInfo:async function(){const e=await o.getSolarInfo();const t=this.getModel("viewData");t.setProperty("/solarInfo",e)},recordingPress:function(e){this.navTo("recording",{id:e})},addRecordingPress:async function(){if(!this.dialog){const e=this.getView();const t=await this.loadFragment({name:"de.fernunihagen.smartgrids.socopt.fragments.RecordingDialog"});e.addDependent(t);this.dialog=t}this.dialog.open()},saveRecordingPress:async function(){const e=this.getModel("viewData");const n=e.getProperty("/newRecording");console.log(n);try{await o.postRecording(n);this.loadRecordings();this.dialog.close()}catch(e){t.error(e.message)}},cancelRecordingPress:function(){this.dialog.close()},toggleRecordingDelete:function(){const e=this.getModel("viewData");let t=e.getProperty("/recListMode");if(t==="None")t="Delete";else t="None";e.setProperty("/recListMode",t)},recDeletePress:function(e){const t=e.getParameter("listItem");const n=t.getBindingContext("viewData");const o=n.getModel().getProperty(n.getPath());this.deleteRecording(o.id)}})});
},
	"de/fernunihagen/smartgrids/socopt/controller/Recording.controller.js":function(){
sap.ui.define(["./BaseController","sap/m/MessageBox","sap/ui/model/json/JSONModel","de/fernunihagen/smartgrids/socopt/lib/Service"],function(e,t,n,i){"use strict";return e.extend("de.fernunihagen.smartgrids.socopt.controller.Main",{onInit:function(){const e=new n({recording:{},predictions:[]});const t=this.getView();t.setModel(e,"viewData");this.getRouter().attachRoutePatternMatched(this.navRouteMatched,this)},navRouteMatched:async function(e){const t=e.getParameters().name;if(t!=="recording")return;const n=e.getParameters().arguments.id;const r=this.getModel("viewData");r.setProperty("/recording",await i.getRecording(n));r.setProperty("/predictions",await i.getPredictions(n))}})});
},
	"de/fernunihagen/smartgrids/socopt/fragments/RecordingDialog.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.m"\r\n\txmlns:f="sap.ui.layout.form"\r\n\txmlns:mvc="sap.ui.core.mvc"\r\n\txmlns:core="sap.ui.core"><Dialog\r\n\t\tid="addRecDialog"\r\n\t\ttitle="Add Consumption Recording"><content><Panel><Label text="Name" labelFor="inputName"/><Input id="inputName"\r\n                    required="true" \r\n                    value="{viewData>/newRecording/name}"/><Label text="Entity" labelFor="inputEntityId" /><ComboBox\r\n\t\t\t\t\tid="inputEntityId"\r\n                    width="100%"\r\n                    required="true"\r\n\t\t\t\t\tshowSecondaryValues= "true"\r\n\t\t\t\t\tfilterSecondaryValues= "true"\r\n\t\t\t\t\tvalue="{viewData>/newRecording/entityId}"\r\n\t\t\t\t\tselectedKey="{viewData>/newRecording/entityId}"\r\n\t\t\t\t\titems="{viewData>/entities}"><core:ListItem key="{viewData>id}" text="{viewData>id}" additionalText="{viewData>name}"/></ComboBox><Label text="Interval Length (Minutes)" labelFor="inputEntityId" /><Input id="inputIntervalLength"\r\n                    required="true" \r\n                    value="{viewData>/newRecording/intervalLength}" /><Label text="Begin" labelFor="pickerBegin" /><DateTimePicker\r\n                    id="pickerBegin"\r\n                    required="true"\r\n                    value="{                                    \r\n                        path: \'viewData>/newRecording/begin\',\r\n                        type: \'sap.ui.model.odata.type.DateTime\'\r\n                    }"/><Label text="End" labelFor="pickerEnd" /><DateTimePicker\r\n                    id="pickerEnd"\r\n                    required="true"\r\n                    value="{                                    \r\n                        path: \'viewData>/newRecording/end\',\r\n                        type: \'sap.ui.model.odata.type.DateTime\'\r\n                    }"/></Panel></content><footer><Toolbar><content><ToolbarSpacer /><Button type="Accept" text="Save" press="saveRecordingPress" /><Button type="Default" text="Cancel" press="cancelRecordingPress" /></content></Toolbar></footer></Dialog></core:FragmentDefinition>',
	"de/fernunihagen/smartgrids/socopt/i18n/i18n.properties":'appTitle=de.fernunihagen.smartgrids.socopt\nappDescription=UI5 Application de.fernunihagen.smartgrids.socopt\nbtnText=Say Hello\n',
	"de/fernunihagen/smartgrids/socopt/i18n/i18n_de.properties":'appTitle=de.fernunihagen.smartgrids.socopt\nappDescription=UI5 Application de.fernunihagen.smartgrids.socopt\nbtnText=Sag Hallo\n',
	"de/fernunihagen/smartgrids/socopt/i18n/i18n_en.properties":'appTitle=de.fernunihagen.smartgrids.socopt\nappDescription=UI5 Application de.fernunihagen.smartgrids.socopt\nbtnText=Say Hello\n',
	"de/fernunihagen/smartgrids/socopt/lib/Service.js":function(){
sap.ui.define(["sap/base/Log"],function(t){"use strict";return{getEntities:async function(){const t=await fetch("api/entities",{method:"GET"});if(!t.ok){throw new Error(t.message)}return await t.json()},getRecordings:async function(){const t=await fetch("api/recordings",{method:"GET"});if(!t.ok){throw new Error(t.message)}return await t.json()},getRecording:async function(t){const e=await fetch(`api/recordings?id=${t}`,{method:"GET"});if(!e.ok){throw new Error(e.message)}return await e.json()},postRecording:async function(t){const e=JSON.stringify({name:t.name,entityId:t.entityId,begin:t.begin,end:t.end,intervalLength:t.intervalLength});const n=await fetch(`api/recordings`,{method:"POST",headers:{"Content-Type":"application/json"},body:e});if(!n.ok){throw new Error(n.message)}},deleteRecording:async function(t){const e=await fetch(`api/recordings/${t}`,{method:"DELETE"});if(!e.ok){throw new Error(e.message)}return await e.json()},getPredictions:async function(t,e=120,n=10){const o={span:e,upto:n};if(!o.span)delete o.span;if(!o.upto)delete o.upto;const i=new URLSearchParams(o);let r=`api/predictions/${t}`;if(i.size>0)r=`${r}?${i.toString()}`;const a=await fetch(r,{method:"GET"});if(!a.ok){throw new Error(a.message)}return await a.json()},getSolarInfo:async function(){const t=await fetch(`api/solarinfo`,{method:"GET"});if(!t.ok){throw new Error(t.message)}return await t.json()}}});
},
	"de/fernunihagen/smartgrids/socopt/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"de.fernunihagen.smartgrids.socopt","type":"application","i18n":"i18n/i18n.properties","title":"{{appTitle}}","description":"{{appDescription}}","applicationVersion":{"version":"1.0.0"}},"sap.ui":{"technology":"UI5","icons":{},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"rootView":{"viewName":"de.fernunihagen.smartgrids.socopt.view.App","type":"XML","async":true,"id":"app"},"dependencies":{"minUI5Version":"1.125.0","libs":{"sap.ui.core":{},"sap.m":{}}},"handleValidation":true,"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"de.fernunihagen.smartgrids.socopt.i18n.i18n"}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","viewPath":"de.fernunihagen.smartgrids.socopt.view","controlId":"app","controlAggregation":"pages","async":true},"routes":[{"pattern":"","name":"default","target":"main"},{"pattern":"info","name":"solarInfo","target":"main"},{"pattern":"recordings","name":"recordings","target":"main"},{"pattern":"recording/{id}","name":"recording","target":"recording"}],"targets":{"main":{"viewId":"main","viewName":"Main"},"recording":{"viewId":"recording","viewName":"Recording"}}}}}',
	"de/fernunihagen/smartgrids/socopt/model/formatter.js":function(){
sap.ui.define(function(){"use strict";const t=new Intl.DateTimeFormat("de-DE",{timeStyle:"short"});const e=new Intl.DateTimeFormat("de-DE",{timeStyle:"medium"});const n=new Intl.DateTimeFormat("en-US",{weekday:"short"});const r=new Intl.DateTimeFormat("de-DE",{dateStyle:"medium"});return{w2kw:function(t){const e=t/1e3;return Math.round(e*100)/100},percentage:function(t){return t*100},formatDate:function(t){if(t){const n=new Date(t);return`${r.format(n)} ${e.format(n)}`}},weekTime:function(e){const r=new Date(e);return`${n.format(r)} ${t.format(r)}`},coverage:function(t){const e=Number.parseFloat(t);if(e>=.8)return"Success";if(e>=.5)return"Warning";return"Error"}}});
},
	"de/fernunihagen/smartgrids/socopt/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/model/BindingMode","sap/ui/Device"],function(e,n,i){"use strict";return{createDeviceModel:function(){const o=new e(i);o.setDefaultBindingMode(n.OneWay);return o}}});
},
	"de/fernunihagen/smartgrids/socopt/view/App.view.xml":'<mvc:View\n\tcontrollerName="de.fernunihagen.smartgrids.socopt.controller.App"\n\tdisplayBlock="true"\n\txmlns="sap.m"\n\txmlns:mvc="sap.ui.core.mvc"><Shell id="shell" appWidthLimited="true"><App id="app" /></Shell></mvc:View>\n',
	"de/fernunihagen/smartgrids/socopt/view/Main.view.xml":'<mvc:View xmlns:layout="sap.ui.layout"\n\tcontrollerName="de.fernunihagen.smartgrids.socopt.controller.Main"\n\tdisplayBlock="true"\n\txmlns="sap.m"\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:core="sap.ui.core"\n\tcore:require="{\n\t\tformatter: \'de/fernunihagen/smartgrids/socopt/model/formatter\'\n\t}"><Page\n\t\tid="mainPage"\n\t\tshowHeader="false"\n\t\tfloatingFooter="true"><content><ObjectHeader\n\t\t\t\ttitle="Optimize Solar Power Consumption"\n\t\t\t\tbackgroundDesign="Solid"></ObjectHeader><IconTabBar\n\t\t\t\tclass="sapUiSmallMarginBottom sapUiResponsiveContentPadding"\n\t\t\t\tid="icontabbar"\n\t\t\t\tselect="tabBarSelect"><items><IconTabFilter\n\t\t\t\t\t\tkey="solarInfo"\n\t\t\t\t\t\ttext="Solar Information"><VBox class="sapUiSmallMargin"><f:SimpleForm id="solarInfoForm"\n\t\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\t\tcolumnsXL="1"\n\t\t\t\t\t\t\t\tcolumnsL="1"\n\t\t\t\t\t\t\t\tcolumnsM="1"><f:content><Label text="Position"/><Text text="{viewData>/solarInfo/latitude} {viewData>/solarInfo/longitude}"/><Label text="Address"/><Text text="{viewData>/solarInfo/place}"/><Label text="Declination"/><Text text="{viewData>/solarInfo/declination}"/><Label text="Azimuth"/><Text text="{viewData>/solarInfo/azimuth}"/><Label text="Max Power"/><Text text="{viewData>/solarInfo/power}"/></f:content></f:SimpleForm></VBox></IconTabFilter><IconTabFilter\n\t\t\t\t\t\tkey="recordings"\n\t\t\t\t\t\ttext="Recordings"><List\n\t\t\t\t\t\t\titems="{viewData>/recordings}"\n\t\t\t\t\t\t\tmode="{viewData>/recListMode}"\n\t\t\t\t\t\t\tdelete="recDeletePress"><headerToolbar><OverflowToolbar><Title text="Recordings" level="H2" /><ToolbarSpacer /><ToggleButton id="toggleRecordingDelete"\n\t\t\t\t\t\t\t\t\t\ttext="Delete Recordings"\n\t\t\t\t\t\t\t\t\t\tpress="toggleRecordingDelete" /></OverflowToolbar></headerToolbar><ObjectListItem\n\t\t\t\t\t\t\t\tintro="{viewData>id}"\n\t\t\t\t\t\t\t\ttitle="{viewData>name}"\n\t\t\t\t\t\t\t\ttype="Active"\n\t\t\t\t\t\t\t\tnumber="{\n\t\t\t\t\t\t\t\t\tpath: \'viewData>totalConsumption\',\n\t\t\t\t\t\t\t\t\tformatter: \'formatter.w2kw\'\n\t\t\t\t\t\t\t\t}"\n\t\t\t\t\t\t\t\tnumberUnit="KW"\n\t\t\t\t\t\t\t\tpress="recordingPress(${viewData>id})"><ObjectAttribute title="Recorded At" text="{\n\t\t\t\t\t\t\t\t\tpath: \'viewData>recordedAt\',\n\t\t\t\t\t\t\t\t\tformatter: \'formatter.formatDate\'\n\t\t\t\t\t\t\t\t}" /><ObjectAttribute title="Interval Length" text="{viewData>intervalLength} min" /><ObjectAttribute title="Recorded With" text="{viewData>entityId}" /></ObjectListItem></List></IconTabFilter></items></IconTabBar></content><footer><OverflowToolbar><ToolbarSpacer/><Button type="Default" icon="sap-icon://add" text="Add Recording" press="addRecordingPress"/></OverflowToolbar></footer></Page></mvc:View>\n',
	"de/fernunihagen/smartgrids/socopt/view/Recording.view.xml":'<mvc:View\r\n\tcontrollerName="de.fernunihagen.smartgrids.socopt.controller.Recording"\r\n\tdisplayBlock="true"\r\n\txmlns="sap.m"\r\n\txmlns:mvc="sap.ui.core.mvc"\r\n\txmlns:core="sap.ui.core"\r\n\tcore:require="{\r\n\t\tformatter: \'de/fernunihagen/smartgrids/socopt/model/formatter\'\r\n\t}"><Page\r\n\t\tshowHeader="false"\r\n\t\tid="recordingPage"><content><ObjectHeader\r\n                intro="{viewData>/recording/id}"\r\n\t\t\t\ttitle="{viewData>/recording/name}"\r\n\t\t\t\tbackgroundDesign="Solid"\r\n                number="{\r\n                    path: \'viewData>/recording/totalConsumption\',\r\n                    formatter: \'formatter.w2kw\'\r\n                }"\r\n                numberUnit="KW"><attributes><ObjectAttribute title="Recorded At" text="{\r\n                        path: \'viewData>/recording/recordedAt\',\r\n                        formatter: \'formatter.formatDate\'\r\n                    }" /><ObjectAttribute title="Interval Length" text="{viewData>/recording/intervalLength}" /><ObjectAttribute title="Recorded With" text="{viewData>/recording/entityId}" /></attributes></ObjectHeader><Table id="predictionsTable"\r\n                items="{viewData>/predictions}"><headerToolbar><OverflowToolbar><content><Title text="Energy Coverage Predictions" level="H2"/></content></OverflowToolbar></headerToolbar><columns><Column><Text text="Begin" /></Column><Column><Text text="Coverage" /></Column><Column><Text text="Energy Covered" /></Column></columns><items><ColumnListItem vAlign="Middle"><cells><Text\r\n                                text="{\r\n                                    path: \'viewData>begin\',\r\n                                    formatter: \'formatter.weekTime\'\r\n                                }" /><ObjectNumber\r\n                                number="{= Math.round(${viewData>coverage} * 10000) / 100}"\r\n                                unit="%"\r\n                                state="{\r\n                                    path: \'viewData>coverage\',\r\n                                    formatter: \'formatter.coverage\'\r\n                                }" /><Text\r\n                                text="{\r\n                                    path: \'viewData>energyCovered\',\r\n                                    formatter: \'formatter.w2kw\'\r\n                                } KW" /></cells></ColumnListItem></items></Table></content></Page></mvc:View>\r\n'
});
//# sourceMappingURL=Component-preload.js.map
